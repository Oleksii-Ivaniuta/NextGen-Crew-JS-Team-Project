{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/storage.js","../src/js/theme.js","../src/js/mobile-menu.js","../src/js/modal-window.js"],"sourcesContent":["export const refs = {\n    body: document.querySelector('body'),\n    autoThemeBtn: document.querySelectorAll('.theme-auto-set-btn'),\n    toggleThemeBtn: document.querySelectorAll('.theme-toggle-btn'),\n};","// збереження до локал сторадж\nexport function saveToLocalStorage(id, element) {\n    localStorage.setItem(id, JSON.stringify(element));\n}\n\n\n// завантаження з локал сторадж\nexport function loadFromLocalStorage(id) {\n    try {\n           const data = JSON.parse(localStorage.getItem(id));\n    return data;\n   }\n    catch (error) {\n        console.log(`load from local storage ${error}`);\n        }\n}\n\n// видалення з локал сторадж\nexport function removeFromLocalStorage(id) {\n    localStorage.removeItem(id);\n}","import { refs } from './refs';\nimport {\n  loadFromLocalStorage,\n  removeFromLocalStorage,\n  saveToLocalStorage,\n} from './storage';\n\n// встановлення темної теми;\nfunction setDarkTheme() {\n  refs.body.classList.add('dark');\n}\n\n// встановлення світлої теми;\nfunction setLightTheme() {\n  refs.body.classList.remove('dark');\n}\n// кнопка авто теми увімкнена\nfunction autoThemeBtnActive() {\n  refs.autoThemeBtn.forEach(element => {\n    element.style.color = '#f0f0f0';\n    element.style.background = 'var(--accet-green)';\n  });\n}\n// кнопка авто теми вимкнена\nfunction autoThemeBtnNotActive() {\n  refs.autoThemeBtn.forEach(element => {\n    element.style.color = '#00b068';\n    element.style.background = '#bbbbbb';\n  });\n}\n\n// функція переключення теми за допомогою кнопки toggle;\nexport function toggleTheme() {\n  refs.body.classList.toggle('dark');\n  autoThemeBtnNotActive();\n  if (refs.body.classList.contains('dark')) {\n    saveToLocalStorage('theme', 'dark');\n  } else {\n    saveToLocalStorage('theme', 'light');\n  }\n}\n\n// функція яка повертає до автоматичного вибору теми залежно від часу доби за допомогою кнопки auto;\nexport function setAutoTheme() {\n  removeFromLocalStorage('theme');\n  setThemeByTime();\n  autoThemeBtnActive();\n}\n\n// функція встановлення теми за часом доби;\nfunction setThemeByTime() {\n  const hour = new Date().getHours();\n  const isDark = hour >= 20 || hour < 7;\n  if (isDark) {\n    setDarkTheme();\n  } else {\n    setLightTheme();\n  }\n}\n\n// функція встановлення теми при завантаженні сторінки;\nfunction setTheme() {\n  if (loadFromLocalStorage('theme') === 'light') {\n    setLightTheme();\n    autoThemeBtnNotActive();\n  } else if (loadFromLocalStorage('theme') === 'dark') {\n    setDarkTheme();\n    autoThemeBtnNotActive();\n  } else {\n    setThemeByTime();\n  }\n}\n\n// запуск функції встановлення теми, спрацьовує при кожному завантаженні сторінки;\nsetTheme();\n\nrefs.toggleThemeBtn.forEach(element => {\n  element.addEventListener('click', toggleTheme);\n});\n\nrefs.autoThemeBtn.forEach(element => {\n  element.addEventListener('click', setAutoTheme);\n});\n","(() => {\n  const refs = {\n    // Додати атрибут data-modal-open на кнопку відкриття\n    openModalBtn: document.querySelector('[data-menu-open]'),\n    // Додати атрибут data-modal-close на кнопку закриття\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    // Додати атрибут data-modal на бекдроп модалки\n    modal: document.querySelector('[data-menu]'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n\n  function toggleModal() {\n    // is-open це клас який буде додаватися/забиратися на бекдроп при натисканні на кнопки\n    refs.modal.classList.toggle('is-open');\n  }\n})();\n","document.addEventListener('DOMContentLoaded', function() {\n    const form = document.getElementById('contactForm');\n    const successModal = document.getElementById('successModal');\n    const closeButtons = document.querySelectorAll('.work-together-close-modal');\n    const body = document.body;\n\n    function closeModal() {\n        successModal.style.display = 'none';\n        body.style.overflow = 'auto'; \n        document.removeEventListener('keydown', handleKeyDown); \n    }\n\n    function openModal() {\n        successModal.style.display = 'block';\n        body.style.overflow = 'hidden'; \n        document.addEventListener('keydown', handleKeyDown); \n    }\n\n    function handleKeyDown(e) {\n        if (e.key === 'Escape') {\n            closeModal();\n        }\n    }\n\n    form.addEventListener('submit', async function(e) {\n        e.preventDefault();\n        \n        const formData = new FormData(form);\n        const data = {\n            email: formData.get('user-email'),\n            comment: formData.get('message') \n        };\n\n        try {\n            const response = await fetch('https://portfolio-js.b.goit.study/api/requests', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify(data)\n            });\n\n            if (response.status === 201) {\n                const result = await response.json();\n                console.log('Успешный ответ:', result);\n                form.reset();\n                openModal();\n            } else {\n                const errorData = await response.json();\n                throw new Error(errorData.message || 'Error sending message. Please try again.');\n            }\n\n        } catch (error) {\n            console.error('Ошибка запроса:', error);\n            // Показываем ошибку через iziToast\n            iziToast.error({\n                title: 'Error',\n                message: error.message.includes('Failed to fetch') \n                    ? 'Error sending message. Please try again.' \n                    : error.message,\n                position: 'topRight',\n                timeout: 5000,\n                progressBar: true,\n                closeOnClick: true\n            });\n        }\n    });\n\n    closeButtons.forEach(button => {\n        button.addEventListener('click', closeModal);\n    });\n\n    window.addEventListener('click', function(event) {\n        if (event.target === successModal) {\n            closeModal();\n        }\n    });\n});"],"names":["refs","saveToLocalStorage","id","element","loadFromLocalStorage","error","removeFromLocalStorage","setDarkTheme","setLightTheme","autoThemeBtnActive","autoThemeBtnNotActive","toggleTheme","setAutoTheme","setThemeByTime","hour","setTheme","toggleModal","form","successModal","closeButtons","body","closeModal","handleKeyDown","openModal","e","formData","data","response","result","errorData","button","event"],"mappings":"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"}