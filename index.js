(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function l(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=l(t);fetch(t.href,s)}})();const i={body:document.querySelector("body"),autoThemeBtn:document.querySelectorAll(".theme-auto-set-btn"),toggleThemeBtn:document.querySelectorAll(".theme-toggle-btn")};function p(e,n){localStorage.setItem(e,JSON.stringify(n))}function v(e){try{return JSON.parse(localStorage.getItem(e))}catch(n){console.log(`load from local storage ${n}`)}}function B(e){localStorage.removeItem(e)}function b(){i.body.classList.add("dark")}function L(){i.body.classList.remove("dark")}function D(){i.autoThemeBtn.forEach(e=>{e.style.color="#f0f0f0",e.style.background="var(--accet-green)"})}function g(){i.autoThemeBtn.forEach(e=>{e.style.color="#00b068",e.style.background="#bbbbbb"})}function O(){i.body.classList.toggle("dark"),g(),i.body.classList.contains("dark")?p("theme","dark"):p("theme","light")}function q(){B("theme"),S(),D()}function S(){const e=new Date().getHours();e>=20||e<7?b():L()}function A(){v("theme")==="light"?(L(),g()):v("theme")==="dark"?(b(),g()):S()}A();i.toggleThemeBtn.forEach(e=>{e.addEventListener("click",O)});i.autoThemeBtn.forEach(e=>{e.addEventListener("click",q)});(()=>{var l,r;const e={menu:document.querySelector("[data-menu]"),openBtn:document.querySelector("[data-menu-open]"),closeBtn:document.querySelector("[data-menu-close]"),menuLinks:document.querySelectorAll(".menu-content nav a")},n=()=>{e.menu.classList.toggle("is-open"),e.menu.classList.contains("is-open")?document.body.style.overflow="hidden":document.body.style.overflow=""};(l=e.openBtn)==null||l.addEventListener("click",n),(r=e.closeBtn)==null||r.addEventListener("click",n),e.menuLinks.forEach(t=>{t.addEventListener("click",()=>{e.menu.classList.remove("is-open"),document.body.style.overflow=""})}),window.addEventListener("resize",()=>{window.innerWidth>=769&&(e.menu.classList.remove("is-open"),document.body.style.overflow="")})})();document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contactForm"),n=document.getElementById("successModal"),l=document.querySelectorAll(".work-together-close-modal"),r=document.body;let t=!1;function s(){const o={email:e.elements["user-email"].value.trim(),message:e.elements.message.value.trim()};localStorage.setItem("contactFormData",JSON.stringify(o))}function u(){const o=localStorage.getItem("contactFormData");if(o){const a=JSON.parse(o);e.elements["user-email"].value=a.email||"",e.elements.message.value=a.message||""}}function E(o){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)}function w(o,a){return!o||!a?(iziToast.warning({title:"Attention",message:"All fields are required!",position:"topRight",timeout:3e3}),!1):E(o)?!0:(iziToast.warning({title:"Attention",message:"Please enter a valid email address!",position:"topRight",timeout:3e3}),!1)}u(),e.addEventListener("input",s);function m(){n.style.display="none",r.style.overflow="auto",document.removeEventListener("keydown",y)}function k(){n.style.display="block",r.style.overflow="hidden",document.addEventListener("keydown",y)}function y(o){o.key==="Escape"&&m()}e.addEventListener("submit",async function(o){if(o.preventDefault(),t)return;const a=e.elements["user-email"].value.trim(),h=e.elements.message.value.trim();if(!w(a,h))return;t=!0;const d=e.querySelector('button[type="submit"]'),T=d.textContent;d.textContent="Sending...",d.disabled=!0;try{const c=await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a,comment:h})});if(c.status===201){const f=await c.json();console.log("Success:",f),e.reset(),localStorage.removeItem("contactFormData"),k()}else{const f=await c.json();throw new Error(f.message||"Error sending message. Please try again later.")}}catch(c){console.error("Request error:",c),iziToast.error({title:"Error",message:c.message.includes("Failed to fetch")?"Connection error. Please check your internet and try again.":c.message,position:"topRight",timeout:5e3,progressBar:!0,closeOnClick:!0})}finally{d.textContent=T,d.disabled=!1,t=!1}}),l.forEach(o=>{o.addEventListener("click",m)}),window.addEventListener("click",function(o){o.target===n&&m()})});
//# sourceMappingURL=index.js.map
